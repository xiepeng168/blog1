<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>写文章/写博客</title>
    <link rel="stylesheet" href="/bootstrap-3.3.7-dist/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/css/bootstrap-select.min.css">
    <script src="/javascripts/jquery-3.2.1.min.js"></script>
    <script src="/bootstrap-select-1.12.4/js/bootstrap-select.js"></script>
    <script src="/bootstrap-select-1.12.4/js/i18n/defaults-eu.js"></script>
    <script src="/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
    <style>
        #div1{
            margin-left: 10%;
            margin-right: 10%;
            height: 800px;
        }
        #div11{
            background-color: #eee;
        }
        #top{

        }
        img{
            width: 100%;
        }
        #div111{
            text-align: center;
            margin-top: -8%;
            color: white;
        }
        @media screen and (max-width: 768px){
            #div111{
                font-size: 20px;
            }

        }
        #nav{
            background-color: white;
            /*margin-top: 50px;*/
        }
        #right0{

        }
        #right{
            padding: 5%;
        }
        #right1{
            background-color: white;
            width: 100%;
            height: 200px;
        }
        #right1 img{
            margin-top: 60px;
            width: 100px;
            height: 100px;
            border-radius: 100px;
        }
        #right2{
            background-color: #ED6766;
            width: 100%;
            height: 100px;
            text-align: center;
        }
        #right2 span{
            text-align: center;
            color: white;
            font-size:15px;
            height:30px;
            line-height:30px;
            width:200px;
            overflow:hidden;
        }
        .article-footer{
            padding: 5%;
        }
        .left1{
            height: 160px;
            width: 100%;
            background: white;
        }
        #view img{
            width: 100%;
            height: 90%;
        }
    </style>
</head>
<body>
<div id="top"><img src="/images/headerbg.jpg" alt="">
    <h2 id="div111">指点江山，舍我其谁</h2>
</div>
<div id="div1" >
    <div id="div11">


        <!--导航-->
        <%- include("nav") %>

        <div class="row">

            <form method="post" action="/article/add" enctype="multipart/form-data">
            <div class="col-md-8" style="padding: 3%">
                <div class="row" >
                    <!--图片预览-->
                    <div id="divshang" style="width: 40%;" class="col-md-4">
                        <div id="view" style="width: 200px; height: 160px; background: white"></div>
                        <input type="file" value="点击上传封面图片" name="img"  onchange="viewImg(this)">

                    </div>
                    <!--文章类型选择-->
                    <div class="col-md-7">
                        <div class="form-group">
                            <label for="exampleInputEmail1">标题</label>
                            <input name="title" type="text" class="form-control" id="exampleInputEmail1" placeholder="请输入您的文章标题">
                        </div>
                        <div class="row">
                            <div class="form-group col-md-6">
                                <label for="exampleInputEmail1">类型</label>
                                <select class="selectpicker show-tick form-control" name="category_id" >
                                    <option>html</option>
                                    <option>css</option>
                                    <option>javascript</option>
                                    <option>bootstrap</option>
                                    <option>java</option>
                                    <option>Vue</option>
                                    <option>php</option>
                                    <option>c++</option>
                                    <option>canvas</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6" style="float: right">
                                <label for="exampleInputEmail2">原作者</label>
                                <input name="author" type="text" class="form-control" id="exampleInputEmail2" placeholder="原创姓名">
                            </div>
                        </div>
                        <label for="exampleInputEmail2">精华文章</label>
                        <div class="radio">
                            <label>
                                <input type="radio" name="is_jing" id="optionsRadios1" value="1" checked>
                                是
                            </label>
                            <label>
                                <input type="radio" name="is_jing" id="optionsRadios2" value="0">
                                否
                            </label>
                        </div>
                    </div>
                </div>
                <h4>请在下面编写文章正文</h4>
                <!--文本编辑器-->
                <!--<div id="content-div" class="form-group" style="margin-top: 10px;">-->
                    <!--<div id="editor" style="background: white" >-->
                        <!--<p >欢迎使用 <b>Blog+</b> 编辑器，请输入您要发表的内容</p>-->
                    <!--</div>-->

                    <!-- 注意， 只需要引用 JS，无需引用任何 CSS ！！！-->

                    <!--<script type="text/javascript">-->
                        <!--var E = window.wangEditor-->
                        <!--var editor = new E('#editor')-->
                        <!--// 或者 var editor = new E( document.getElementById('editor') )-->
                        <!--editor.create()-->
                    <!--</script>-->
                <!--</div>-->
                <div class="form-group">
                    <label><b>文章正文</b> 在这里填写详细的文章内容分享给大家</label>
                    <textarea id="content-area" style="display: none;" class="form-control" rows="3" name="content"></textarea>
                    <div id="content-div" style="background-color: white"></div>
                </div>
                <!--//按钮-->
                <div style="text-align: center;margin-top: 20px">
                    <button type="button" class="btn btn-warning btn-lg">保存至草稿箱</button>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <button type="submit" class="btn btn-danger btn-lg">发布文章</button>

                </div>
            </div>

        </form>

            <div class="col-md-4" id="right0">
                <div id="right">
                    <div id="right1">
                        <div style="text-align: center;">
                            <img src="/images/56465465.jpg">
                        </div>
                        <div style="width:100%;text-align: center"><p>博主简介</p></div>
                    </div>
                    <div id="right2">
                        <span>谢鹏</span><br>
                        <span>web前端开发资深工程师</span><br>
                        <span>公众号：南征北战-</span><br>
                    </div>
                    <div style="background:white; text-align: center;line-height: 40px;">
                        <span>在强者的眼中，没有最好，只有更好</span><br>
                    </div>
                    <div id="right3" style="margin-top: 20px">
                        <span style="font-size:17px">个人标签</span><br>
                        <div style="background: white; padding: 15px;line-height: 30px; ">
                            <span class="label label-default">WEB</span>&nbsp;
                            <span class="label label-primary">HTML</span>&nbsp;
                            <span class="label label-success">CSS3</span>&nbsp;
                            <span class="label label-info">Javascript</span>&nbsp;
                            <span class="label label-warning">node</span>&nbsp;
                            <span class="label label-danger">php</span>&nbsp;
                        </div>

                    </div>
                    <div id="right4" style="margin-top: 20px">
                        <span style="font-size:17px">精选文章</span><br>
                        <a href="#"><div style="text-decoration:none;background: white; height: 300px;padding-left: 6%;padding-right: 6%;padding-top: 6%">
                                <img src="/images/5431586.jpg" alt="" style="line-height: 30px; " >
                                <b><h3>加油吧</h3></b>
                                <span >浏览量</span><a >116</a>
                            </div></a>

                    </div>
                    <div id="right5" style="margin-top: 5%">
                        <span style="font-size:17px">热门文章</span><br>
                        <a href="#"><div style=" text-decoration:none;background: white; height: 300px;padding-left: 6%;padding-right: 6%;padding-top: 6%">
                                <img src="/images/3215648965.jpg" alt="" style="line-height: 30px; " >
                                <b><h3>加油吧</h3></b>
                                <span >浏览量</span><a >116</a>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<div id="bottom" class="hidden-xs hidden-sm" style="background-color:black; height: 200px; color: white; padding: 2% ; margin-top: 35%">
    <div style="margin-left:15%; margin-right: 5%">
        <div class="row" style="border-bottom:1px solid white">
            <div class="col-md-4" style="text-align: center ; border-right:1px solid white" >
                <h3>联系方式</h3>
            </div>
            <div class="col-md-8">
                <a class="navbar-brand" href="#">主页</a>
                <a class="navbar-brand" href="#">文章推荐</a>
                <a class="navbar-brand" href="#">个人中心</a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4" style="border-right:1px solid white">
                <p>个人微信号：weixin</p>
                <p>邮箱：1145114815@qq.com</p>
                <p>微博:南征北战</p>
            </div>
            <div class="col-md-8" >
                <div class="col-md-6">
                    <img src="/images/654513.jpg" alt="" style="width: 100px">
                    <p>个人微信号：weixin</p>
                    <p>邮箱：1145114815@qq.com</p>
                </div>
                <div class="col-md-6">
                    <p><span>Copyright</span><span>&copy;</span><span>2017</span><a href="#">融智教育</a><span>Design By LY</span></p>
                    <p><a href="" target="_blank">豫ICP备16029915号-1</a></p>
                    <p>邮箱：1145114815@qq.com</p>

                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="/javascripts/wangEditor.min.js"></script>
<script>
    //上传图片
    function viewImg(file) {
        var div =document.getElementById('view');
        var fileRrader = new FileReader();
        if(file.files && file.files[0]){
            fileRrader.readAsDataURL(file.files[0]);
            fileRrader.onload=function (ev) {
                // ev.target.result;
                div.innerHTML = "<img src='"+ev.target.result+"'>"
            }
        }
    }

    var E = window.wangEditor
    var editor = new E('#content-div')
    //editor.customConfig.uploadImgShowBase64 = true   // 使用 base64 保存图片
    editor.customConfig.uploadImgServer = '/upload';
    editor.customConfig.uploadFileName = 'img'
    var $text1 = $('#content-area')
    editor.customConfig.onchange = function (html) {
        // 监控变化，同步更新到 textarea
        $text1.val(html)
    }
    editor.create()
    // 初始化 textarea 的值
    $text1.val(editor.txt.html())


    //图片上传预览
    function preview(file) {
        var prevDiv = document.getElementById('preview');
        if (file.files && file.files[0]) {
            var reader = new FileReader();
            reader.onload = function (evt) {
                prevDiv.innerHTML = '<img src="' + evt.target.result + '" />';
            }
            reader.readAsDataURL(file.files[0]);
        } else {
            prevDiv.innerHTML = '<div class="img" style="filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src=\'' + file.value + '\'"></div>';
        }
    }
</script>

</body>
</html>